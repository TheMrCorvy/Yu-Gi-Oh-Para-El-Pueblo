<div class="modal fade bd-example-modal-xl" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalScrollableTitle">Links para Imágenes</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body row">
        <p class="ml-3">Para que los productos puedan publicarse en la página, si o si hace falta que tengan un enlace a una imagen en internet. No cualquier enlace sirve, por eso está éste instructivo.</p>
        <div class="col-lg-12 d-flex justify-content-between">
            <img src="{{ asset('images') }}/instructions/links/1.png" class="img-fluid col-lg-7 mx-auto" style="width: 150px;">
            <div class="col-lg-5">
                <p>El campo "Link a una imágen" es obligatorio, y debe ser completado con algún enlace que tenga entre 5, y 250 caractéres.</p>
                <p>Para conseguir ésto hay q seguir una sencilla serie de pasos detallados a continuación.</p> 
            </div>
        </div>
    
        <h3 class="col-lg-12 h3 text-center my-5">Paso 1)</h3>

        <div class="col-lg-12 mb-5 d-flex justify-content-between">
            <div class="col-lg-5">
                <p>Dirigirse a <a href="https://www.google.com.ar/imghp?hl=es-419&tab=wi&ogbl" target="_blank" class="btn btn-link">Google Imágenes</a> y buscar la carta por su nombre hasta encontrar una con buena calidad.</p>
                <br>
                <p>Google tiene una sección llamada "herramientas" que te permite filtrar las imágenes a buscar, en éste caso conviene elegir el tamaño grande para asegurarnos de encontrar una imágen con almenos 500px en uno de sus lados <strong>(las imágenes que cumplan con ésta condición son aptas para usar en MercadoLibre también, lo único que tendrás que hacer es click derecho y guardar imágen para después subirla a MercadoLibre)</strong>. (Por algún motivo hay veces en las que ésto no funciona bien y oculta algunas imágenes suficientemente grandes, asi que es mejor primero buscar normalmente y luego, en caso de no encontrar nada, filtrar por tamaño grande.</p>
            </div>
            <img src="{{ asset('images') }}/instructions/links/2.png" class="img-fluid col-lg-7 mx-auto" style="width: 150px;">
        </div>

        <img src="{{ asset('images') }}/instructions/links/3.png" class="img-fluid col-lg-12 my-5 mx-auto" style="width: 150px;">

        <div class="col-lg-12 mb-5 row d-flex justify-content-between">
            
                <img src="{{ asset('images') }}/instructions/links/4.png" class="img-fluid col-lg-3 float-right" style="width: 150px;">
                <p class="col-lg-9"><u>Cómo se si una imágen tiene más de 500px en alguno de sus lados?</u> En la esquina inferior izquierda indica qué tamaño tiene en px X px, da igual cúal de los 2 sea, con que almenos uno sea mayor a 500, sirve.</p>
            
        </div>
        <div class="col-lg-12 mb-5 row d-flex justify-content-between">
           
                <p class="col-lg-5 my-auto">También sirve ir a una publicación de MercadoLibre y copiar el enlace de una imágen. Dicho enlace es seguro que va atener menos de 250 caractéres, y que la imágen va a servir perfecta.</p>
                <img src="{{ asset('images') }}/instructions/links/5.png" class="img-fluid col-lg-7 float-right" style="width: 150px;">
            
        </div>

        <h3 class="col-lg-12 h3 text-center my-5">Paso 2)</h3>

        <div class="col-lg-12 mb-5 row d-flex justify-content-between">
                <img src="{{ asset('images') }}/instructions/links/6.png" class="img-fluid col-lg-7 float-right" style="width: 150px;">
                <div class="col-lg-5">
                    <p>Hacer click derecho en la imágen a utilizar.</p>
                    <p>Dentro de las opciones está "abrir imágen en nueva pestaña".</p>
                    <p>Al abrir en una nueva pestaña podrás ver que tán largo es el enlace, ésto para verificar que no supere los 250 caractéres.</p>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <p>Si el enlace entra completo en la barra de búsqueda, entonces es seguro que sirve.</p>
                </div>
        </div>

        <img src="{{ asset('images') }}/instructions/links/7.png" class="img-fluid col-lg-12 my-5 float-right" style="width: 150px;">
        
        <h3 class="col-lg-12 h3 text-center my-5">Paso 3)</h3>

        <div class="col-lg-12 mb-5 row d-flex justify-content-between">
            <div class="col-lg-5">
                <p>Ahora lo único que queda es volver a la página y pegar el enlace a la imágen.</p>
                <p>Éste proceso puede demorar unos segundos, trata de no apretar el botón 2 veces por que podria dar algún error.</p>
            </div>
            <img src="{{ asset('images') }}/instructions/links/8.png" class="img-fluid col-lg-7 float-right" style="width: 150px;">
        </div>
        <div class="col-lg-12 mb-5">
                <p>Si ves éste cartel, significa que el producto se publicó exitósamente, caso contrario, bajá al formulario en el que creaste el producto en cuestión y verificá los campos que estén coloreados en rojo.</p>
        </div>

        <img src="{{ asset('images') }}/instructions/links/9.png" class="img-fluid col-lg-12 mb-5 float-right" style="width: 150px;">

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">volver</button>
      </div>
    </div>
    </div>
</div>






<div class="modal fade bd-example-modal-xl" id="bd-example-modal-xl" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalScrollableTitle">Importar excel</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body row">
    
        <p>Una cosa a tener en cuenta, la página revisará todas las solapas incluidas en el archivo. Ésto significa que si hay un producto duplicado en alguna hoja, va a arrojar un error y detendrá el proceso. Lo que se puede hacer para que sea más fácil importar productos es copiar y pegar todas las columnas en todas las solapas y dividirlas según productos (una para cartas, otra para deckbox, etc) no es obligatorio, pero podría servir para mantener las cosas más ordenadas.</p>
        
        <h3 class="col-lg-12 h3 text-center my-5">Paso 1)</h3>

        <div class="col-lg-12 row d-flex justify-content-between">
          <h5 class="h5 col-lg-12">Las siguientes columnas son obligatorias y deberán estar presentes en todas las solapas del archivo excel con el siguiente orden:
            <div class="float-right">
              <p class="text-primary">Azul: Opcional</p>
              <p class="text-danger">Rojo: Obligatorio</p>
            </div>
          </h5>
          <div class="col-lg-4">
            <ul>
              <li><p class="text-danger">1) Nombre del Producto</p></li>
              <li><p class="text-danger">2) Tipo de Producto (solo el número, como se detalla debajo en ésta aclaración)</p></li>
              <li><p class="text-danger">3) Categoría (Solo el Número)</p></li>
              <li><p class="text-danger">4) Cantidad en Stock</p></li>
              <li><p class="text-danger">5) Precio</p></li>
              <li><p class="text-danger">6) Estado del Producto</p></li>
              <li><p class="text-primary">7) Idioma</p></li>
            </ul>
          </div>
          <div class="col-lg-4">
            <ul>
              <li><p class="text-primary">8) Tipo de Carta (Poner solo el número correspondiente)</p></li>
              <li><p class="text-primary">9) Rareza</p></li>
              <li><p class="text-primary">10) Expansión</p></li>
              <li><p class="text-primary">11) Marca</p></li>
              <li><p class="text-primary">12) Cantidad de Unidades que Incluye (poner solo el número)</p></li>
              <li><p class="text-primary">13) Color</p></li>
              <li><p class="text-primary">14) Capacidad (Cuántas cartas entran en el deckbox)</p></li>
            </ul>
          </div>
          <div class="col-lg-4">
            <ul>
              <li><p class="text-primary">15) Tamaño (aplica para folios y mantas/playmats)</p></li>
              <li><p class="text-primary">16) Descripción</p></li>
              <li><p class="text-primary">17) Oferta (solo el número, sin el "%")</p></li>
              <li><p class="text-primary">18) Hasta cuándo estará de oferta (En formato aaaa-mm-dd)</p></li>
              <li><p class="text-danger">19) Link a una Imágen (están las instrucciones detalladas en el formulario para crear productos).</p></li>
            </ul>
          </div>
        </div>

        <div class="col-lg-12 mb-5 d-flex justify-content-between">
            <div class="col-lg-5">
                <p>El archivo de excel debería verse más o menos así:</p>
                <p>No debe incluir filas vacías entremedio, o filas cuyos valores obligatorios no estén completos.</p>
                <p>Podrás incluir la cantidad de solapas que creas necesario. El programa las incluirá todas.</p>
            </div>
            <img src="{{ asset('images') }}/instructions/excel/1.png" class="img-fluid col-lg-7 mx-auto" style="width: 150px;">
        </div>

        <h4 class="col-lg-12 h4 text-center my-5">Tener en Cuenta</h4>

        <div class="col-lg-12 mb-5 d-flex justify-content-between">
          <div class="col-lg-6">
            <p>El tipo de producto (si es una carta, un deckbox, etc) se incluirá de forma automática. Para aclarar de qué tipo es el producto que estás cargando, lo harás poniendo en la columna "Tipo de Producto" un número entre 1 y 7, siendo cada uno los valores los detallados al lado.</p>
          </div>
          <div class="col-lg-6">
            <ul id="typeProductos">
              <li id="boton1">
                <button class="btn btn-primary btn-sm mb-2" type="button" disabled>
                  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  Cargando...
                </button>
              </li>
              <li class="mb-3">(El default va a ser siempre "Carta de Yu-Gi-Oh!", en caso de no cargar un número válido)</li>
            </ul>
          </div>
        </div>

        <div class="col-lg-12 container row mb-5 d-flex justify-content-between">
          <p class="col-lg-6">Lo mísmo va para el tipo de carta:</p>
          <p class="col-lg-6">Y para las Categorías:</p>
          <div class="col-lg-6">
            <ul id="typeCartas">
              <li id="boton2">
                <button class="btn btn-primary btn-sm mb-2" type="button" disabled>
                  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  Cargando...
                </button>
              </li>
              <li class="mb-3">(El default va a quedar vacío, en caso de no ingresar un número válido)</li>
            </ul>
          </div>
          <div class="col-lg-6">
            <ul id="categories">
              <li id="boton3">
                <button class="btn btn-primary btn-sm mb-2" type="button" disabled>
                  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  Cargando...
                </button>
              </li>
              <li class="mb-3">0) Yu-Gi-Oh!</li>
            </ul>
          </div>
        </div>

        <h3 class="col-lg-12 h3 text-center my-5">Paso 2)</h3>

        <div class="col-lg-12">
          <p>A la hora de subir un archivo .xlsx (excel), lo único que tendrás que hacer es clickear en "elegir archivo" y cargar <strong><u>solo 1 archivo</u></strong> de excel a la vez, ya que puede ser que el programa no termine de cargar más de un archivo.</p>
          <p>Una vez cargado el archivo, solo resta clickear en el botón de "importar" y esperar. <strong>Ésto puede demorar un rato</strong>.</p>
        </div>

        <h4 class="col-lg-12 h4 text-center my-5">Tener en Cuenta</h4>

        <div class="col-lg-12 mb-5 d-flex justify-content-between">
          <img src="{{ asset('images') }}/instructions/excel/2.png" class="img-fluid col-lg-7 mx-auto" style="width: 150px;">
          <div class="col-lg-5">
              <p>Es posible que aparezcan errores de este estílo. Pueden darse por varios motivos, pero principalmente se darán cuando se intente cargar un producto/s que ya está publicado en la página.</p>
              <p>Cuando es así, solo hay que volver hacia la página anterior, recargarla, y volver a intentarlo (habiendo verificado que no hay ningún producto repetido).</p>
              <p>Si el error sigue repitiendose, contactame lo antes posible para poder ver qué está pasando y solucionarlo.</p>
          </div>
      </div>

      </div>{{-- aca termina el modal-body --}}
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">volver</button>
      </div>
    </div>
    </div>
</div>

<script>
    async function GetTypesProducts(){
      return await fetch('/api/v1/TypeProduct/index', {
            headers: {
                    'Content-Type': 'application/json',
                },
            method: 'get',
        })
        .then(jsonResponse => jsonResponse.json())
        .then(response => {
            return response
        })
    }

    async function GetCategories(){
      return await fetch('/api/v1/Category/index', {
            headers: {
                    'Content-Type': 'application/json',
                },
            method: 'get',
        })
        .then(jsonResponse => jsonResponse.json())
        .then(response => {
              return response
        })
    }

    async function GetTypesCartas(){
      return await fetch('/api/v1/TypeCarta/index', {
            headers: {
                    'Content-Type': 'application/json',
                },
            method: 'get',
        })
        .then(jsonResponse => jsonResponse.json())
        .then(response => {
                return response
        })
    }

  window.addEventListener('load', async () => {
    
    const results = await Promise.all([
          GetTypesCartas(),
          GetTypesProducts(),
          GetCategories(),
        ])

    const tipoProductos = document.getElementById('typeProductos')

    const categories = document.getElementById('categories')

    const tipoCartas = document.getElementById('typeCartas')

    for (let i = 0; i < results[0].tiposCartas.length; i++) {
          
        let li = document.createElement('li')
        li.innerText = results[0].tiposCartas[i].id + ") " + results[0].tiposCartas[i].tipo_carta

        tipoCartas.appendChild(li)
    }    
    for (let i = 0; i < results[1].tipos.length; i++) {
          
        let li = document.createElement('li')
        li.innerText = results[1].tipos[i].id + ") " + results[1].tipos[i].tipo_producto

        tipoProductos.appendChild(li)
    }   
    for (let i = 0; i < results[2].categorias.length; i++) {
          
        let li = document.createElement('li')
        li.innerText = results[2].categorias[i].id + ") " + results[2].categorias[i].categoria

        categories.appendChild(li)
    }

    document.getElementById('boton1').classList.add('d-none')
    document.getElementById('boton2').classList.add('d-none')
    document.getElementById('boton3').classList.add('d-none')
  })
</script>